/*
  Copyright Â© 2015 Adobe Systems Incorporated.  All rights reserved.
  Generated by Adobe RoboHelp 2015
*/

(function(){var t,e,n,r,i;null==window.rh&&(window.rh={}),i=window.rh,null==i._&&(i._={}),i.util=i._,t=i._,n=Array.prototype.forEach,r=Object.keys,e=Object.prototype.hasOwnProperty,t.time=function(){return(new Date).getTime()},t.delay=function(t,e){var n,r;for(n=[],r=1;++r<arguments.length;)n.push(arguments[r]);return setTimeout(function(){return t.apply(null,n)},e)},t.defer=function(t){var e,n;for(e=[],n=0;++n<arguments.length;)e.push(arguments[n]);return this.delay.apply(this,[t,1].concat(e))},t.debounce=function(t,e,n){var r;return r=null,function(){var i,o,s,u,a,l;for(o=[],u=0,a=arguments.length;a>u;u++)i=arguments[u],o.push(i);return l=this,s=function(){return n||t.apply(l,o),r=null},r?clearTimeout(r):n&&t.apply(l,o),r=setTimeout(s,e||100)}},t.throttle=function(t,e){var n,r;return r=null,n=!1,function(){var i,o,s,u,a,l;for(o=[],u=0,a=arguments.length;a>u;u++)i=arguments[u],o.push(i);return l=this,s=function(){return n||t.apply(l,o),r=null},r?(clearTimeout(r),n=!1):(t.apply(l,o),n=!0),r=setTimeout(s,e||100)}},t.timeout=function(t,e){return function(){var n,r,i,o,s,u;for(r=[],o=0,s=arguments.length;s>o;o++)n=arguments[o],r.push(n);return u=this,i=function(){return t.apply(u,r)},setTimeout(i,e)}},t.toggleTimeout=function(e,n,r){return function(){var o,s,u,a,l,c;for(s=[],a=0,l=arguments.length;l>a;a++)o=arguments[a],s.push(o);return c=this,u=function(){return e.apply(c,s)},r?(i._debug&&s.push(t.stackTrace()),setTimeout(u,n)):u(),r=!r}},t.has=function(t,n){return null!=t&&e.call(t,n)},t.keys=function(e){var n,i;if(i=[],!t.isObject(e))return i;if(r)return r(e);for(n in e)t.has(e,n)&&i.push(n);return i},t.any=function(e,n,r){var i,o,s,u;if(null==r&&(r=this),null==e)return!1;for(s=e.length!==+e.length&&t.keys(e),u=(s||e).length,i=0;;){if(i>=u)break;if(o=s?s[i]:i,n.call(r,e[o],o,e))return!0;i++}return!1},t.each=function(t,e,r){var i,o,s,u,a;if(null==r&&(r=this),null!=t){if(n===t.forEach)t.forEach(e,r);else if(t.length===+t.length)for(i=o=0,u=t.length;u>o;i=++o)a=t[i],e.call(r,a,i,t);else for(s in t)a=t[s],e.call(r,a,s,t);return t}},t.map=function(e,n,r){var i;return null==r&&(r=this),i=[],t.each(e,function(t,e,o){return i.push(n.call(r,t,e,o))}),i},t.reduce=function(e,n,r,i){return null==i&&(i=this),t.each(e,function(t,e){return r=n.call(i,r,t,e)}),r},t.find=function(e,n,r){var i;return null==r&&(r=this),i=void 0,t.any(e,function(t,e,o){return n.call(r,t,e,o)?(i=t,!0):void 0}),i},t.findIndex=function(e,n,r){var i;return null==r&&(r=this),i=-1,t.any(e,function(t,e,o){return n.call(r,t,e,o)?(i=e,!0):void 0}),i},t.findParentNode=function(t,e,n,r){var i;for(null==e&&(e=document),null==r&&(r=this),i=null;;){if(!t||t===e)break;if(n.call(r,t)){i=t;break}t=t.parentNode}return i},t.filter=function(e,n,r){var i;return null==r&&(r=this),i=[],t.each(e,function(t,e,o){return n.call(r,t,e,o)?i.push(t):void 0}),i},t.flatten=function(e){return t.reduce(e,function(t,e){return t.concat(e)},[])},t.unique=function(e,n,r){return null==r&&(r=this),n&&(e=t.map(e,n,r)),t.filter(e,function(t,n){return e.indexOf(t)===n})},t.union=function(e,n,r){return null==r&&(r=this),n&&(e=t.map(e,n,r)),t.unique(t.flatten(e))},t.count=function(e,n,r){var i;return null==r&&(r=this),i=0,t.each(e,function(t,e,o){return n.call(r,t,e,o)?i++:void 0}),i},t.extend=function(e,n,r){return n&&t.each(n,function(t,n){return e[n]=t}),r&&t.each(r,function(t,n){return e[n]=t}),e},t.clone=function(e){return t.isObject(e)?t.reduce(e,function(e,n,r){return e[r]=t.clone(n),e},{}):e},t.compact=function(e){return t.filter(e,function(t){return t})},t.compactObject=function(e){return null==e&&(e={}),t.reduce(e,function(e,n,r){return null!=n&&(t.isObject(n)?(n=t.compactObject(n),t.isEmptyObject(n)||(e[r]=n)):e[r]=n),e},{})},t.isString=function(t){return"string"==typeof t},t.isFunction=function(t){return"function"==typeof t},t.isObject=function(t){return null!==t&&"object"==typeof t},t.isDefined=function(t){return null!==t&&void 0!==t},t.isEmptyString=function(t){return 0===t.length},t.isUsefulString=function(e){return t.isDefined(e)&&!t.isEmptyString(e)},t.isEmptyObject=function(t){return 0===Object.keys(t).length},t.isEqual=function(e,n){if(typeof e!=typeof n)return!1;if(!t.isDefined(e)||!t.isDefined(n))return e===n;switch(typeof e){case"object":return t.isEqualObject(e,n);case"array":return!t.any(e,function(e,r){return!t.isEqual(e,n[r])});default:return e===n}},t.isEqualObject=function(e,n){var r,i;return r=t.filter(t.keys(e),function(t){return void 0!==e[t]}),i=t.filter(t.keys(n),function(t){return void 0!==n[t]}),r.length!==i.length?!1:!t.any(r,function(r){return!t.isEqual(e[r],n[r])})},t.isZeroCSSValue=function(t){return"0"===t||"0px"===t||"0em"===t||"0%"===t},function(){var e;try{localStorage.setItem("testLocalDB",!0),e=null!=localStorage.getItem("testLocalDB"),localStorage.removeItem("testLocalDB")}catch(n){e=!1}return t.canUseLocalDB=function(){return e}}(),t.isIframe=function(){return parent!==window},t.loadScript=function(t,e,n){var r;return null==e&&(e=!0),r=document.createElement("script"),r.type="text/javascript",r.async=e===!0,r.src=t,null!=n&&(r.onerror=r.onload=n),document.body.appendChild(r)},function(){var e;return e=function(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)},t.uniqueId=function(){return t.time().toString(32)+"_"+e()+e()+e()}}(),t.one=function(t){return function(){var e;return"function"==typeof t?(e=t,t=null,e.apply(this,arguments)):void 0}},t.cache=function(t,e){return null==e&&(e={}),function(n,r){return 1===arguments.length?e[n]:!t||t(r)?e[n]=r:void 0}},t.memoize=function(e,n){return null==n&&(n={}),function(){var r,i,o,s,u;for(o=0,u=arguments.length;u>o;o++)r=arguments[o],s=t.isString(r)?r:JSON.stringify(r),i=null!=i?i+", "+s:s;return i in n?n[i]:n[i]=e.apply(this,arguments)}},t.memoizeAsync=function(t,e){return null==e&&(e={}),function(){var n,r,i,o,s,u;for(r=[],s=0,u=arguments.length;u>s;s++)n=arguments[s],r.push(n);return r.length>1&&(i=r.pop()),o=r.join(", "),o in e?"function"==typeof i?i(e[o]):void 0:(r.push(function(t){return e[o]=t,"function"==typeof i?i(t):void 0}),t.apply(this,r))}},t.require=t.memoizeAsync(function(e,n){return t.loadScript(e,!0,function(){return n(t.exports())})}),function(){var e;return e=void 0,t.exports=function(t){var n;return n=e,e=null!=t?t:void 0,n}}()}).call(this),function(){var t,e,n,r;t=window.rh._,e=window.rh.consts,t.mapToEncodedString=function(e,n,r){return null==n&&(n="&"),null==r&&(r="="),t.reduce(e,function(t,e,i){return null!=e&&(t.length>0&&(t+=n),t+=""+i+r+encodeURIComponent(e)),t},"")},t.encodedStringToMap=function(e,n,r){var i;return null==n&&(n="&"),null==r&&(r="="),i=t.explodeAndMap(e,n,r,{"default":""}),t.each(i,function(t,e){return i[e]=decodeURIComponent(t)}),i},t.urlParams=function(e){return null==e&&(e=location.search.substring(1)),t.encodedStringToMap(e)},t.urlParam=function(e,n){return null==n&&(n=location.search.substring(1)),e&&t.urlParams(n)[e]},t.hashParams=function(e){return null==e&&(e=location.hash.substring(1)),t.encodedStringToMap(e)},t.hashParam=function(e){return e&&t.hashParams()[e]},t.updateHashMap=function(e,n){var r,i;return i=t.extend({},t.hashParams(),e),r=t.mapToEncodedString(i),r.length>0&&(r="#"+r),n?location.hash=r:""!==r&&location.hash!==r?location.replace(r):void 0},t.stripStringBetween=function(t,e,n){var r,i,o;return o=t.indexOf(e),-1!==o&&(r=t.indexOf(n),o>r&&(r=t.length),i=""+t.substring(0,o)+t.substring(r,t.length)),i||t},t.stripParam=function(e){return null==e&&(e=document.location.href),t.stripStringBetween(e,"?","#")},t.stripBookmark=function(e){return null==e&&(e=document.location.href),t.stripStringBetween(e,"#","?")},t.extractStringBetween=function(t,e,n){var r,i,o;return i=t.indexOf(e),-1!==i&&(r=t.indexOf(n),i>r&&(r=t.length),o=t.substring(i+1,r)),o||""},t.extractParamString=function(e){return null==e&&(e=document.location.href),t.extractStringBetween(e,"?","#")},t.extractHashString=function(e){return null==e&&(e=document.location.href),t.extractStringBetween(e,"#","?")},t.traverseToPath=function(){return""},r=function(t,e,n){switch(null==n&&(n="/"),e){case".":return t;case"..":return t.substring(0,t.lastIndexOf(n));default:return t+n+e}},t.traverseByPath=function(t,e,n){var i,o,s,u;for(null==n&&(n="/"),t=t.substring(0,t.lastIndexOf(n)),u=e.split(n),i=0,o=u.length;o>i;i++)s=u[i],s.length>0&&(t=r(t,s,n));return t+n},t.scheme=function(t){var e,n;return e=t.indexOf(":"),-1!==e&&(n=t.substring(0,e+1).toLowerCase().trim()),n},t.protocol=function(t){var e,n,r;return e=t.trim().indexOf(":"),-1!==e&&(r=t.substring(0,e+1).toLowerCase()),r&&(n=r.match(/^[a-z]+:/),n&&n[0].length===r.length||(r=void 0)),r},t.isInternal=function(t){return 0!==t.indexOf("//")&&0!==t.indexOf("/&#47;")&&0!==t.indexOf("&#47;/")&&0!==t.indexOf("&#47;&#47;")},t.isJavaScriptUrl=function(e){return"javascript:"===t.scheme(e)},t.isRelativeUrl=function(e){return!t.scheme(e)&&e.trim().indexOf("/")},t.isValidFileUrl=function(e){var n;return"#"===e[0]?!1:(n=t.scheme(e),!n||-1!==["http:","https:","ftp:","file:"].indexOf(n))},t.makeRelativeUrl=function(e,n){var r,i,o;return null==n&&(n=decodeURI(document.location.href)),e===n?"":(r=t.filePath(e),i=t.filePath(n),o=t.makeRelativePath(r,i),""+o+e.substring(r.length))},t.makeRelativePath=function(e,n){var r,i,o,s,u,a;if(null==n&&(n=t.filePath()),!e||t.isRelativeUrl(e)||t.isRelativeUrl(n))u=e;else{for(a=e.split("/"),r=n.split("/"),o=0;;){if(a.length===o||r.length===o)break;if(a[o]!==r[o])break;o++}for(s=a.slice(o),u="",i=r.length-o-1;;){if(0>=i)break;u+="../",i--}u+=s.join("/")}return u},t.makeFullUrl=function(e){return t.isRelativeUrl(e)?window._getFullPath(rh._.parentPath(),e):e},t.isLocal=function(){return"file:"===window.location.protocol},t.isRemote=function(){return"file:"!==window.location.protocol},n=null,t.isSameOrigin=function(e){var r;return t.isLocal()?!0:(r=window.location,null==n&&(n=r.origin),null==n&&(n=r.protocol+"//"+r.hostname,r.port&&(n+=":"+r.port)),n===e)},t.filePath=function(t){var e;return null==t&&(t=decodeURI(document.location.href)),e=t.indexOf("?"),-1!==e&&(t=t.substring(0,e)),e=t.indexOf("#"),-1!==e&&(t=t.substring(0,e)),t},t.parentPath=function(e){var n;return null==e&&(e=t.filePath()),n=e.lastIndexOf("/"),-1!==n&&(e=e.substring(0,n+1)),e},t.getFileName=function(e){var n,r,i;return r=t.filePath(e),i=r.lastIndexOf("/"),n=-1!==i?r.substring(i+1):r,n||""},t.getFileExtention=function(e){var n,r,i;return r=t.getFileName(e),i=null!=r?r.lastIndexOf("."):void 0,-1!==i&&(n=r.substring(i)),n||""}}.call(this),function(){var t,e,n,r;t=window.rh._,e=/\#{([^}]*)\}/g,r=/\$([_a-zA-Z][_a-zA-Z0-9]*)/g,n=/\B\/([^\/]*)\//g,t.toRegExp=function(e){var r,i,o,s,u;return e&&t.isString(e)?(o=e.match(n),i=o&&o[0],i&&(s=i.substring(1,i.length-1),r=e.substring(i.length),u=new RegExp(s,r)),u||e):e},t.splitAndTrim=function(e,n){return null==e&&(e=""),t.map(e.split(n),function(t){return t.trim()})},t.explodeAndMap=function(t,e,n,r){var i,o,s,u,a,l,c,h,d;for(null==t&&(t=" "),null==r&&(r={}),l=t.split(e),h=new RegExp(n+"(.+)?"),u={},i=0,s=l.length;s>i;i++)c=l[i],a=c.split(h),o=a[0].trim(),d=a[1],r.caseInsensitive&&(o=o.toLowerCase()),r.trim&&(d=d&&d.trim()),null!=r["default"]&&null==d&&(d=r["default"]),""!==o&&(u[o]=d);return u},t.resolveNamedVar=function(t){var e,n,i,o;if(o=t.match(r))for(e=0,n=o.length;n>e;e++)i=o[e],t=t.replace(i,"this.user_vars."+i.substring(1));return t},t.resolveEnclosedVar=function(t,n,r){var i,o,s,u,a,l;if(null==r&&(r=this),u=t.match(e))for(i=0,o=u.length;o>i;i++)s=u[i],a=s.substring(2,s.length-1).trim(),l=n.call(r,a),t=t.replace(s,null!=l?l:"");return t},t.resolveAttr=function(e){return t.reduce(t.explodeAndMap(e,";",":"),function(e,n,r){return t.each(r.split(","),function(t){return e[t.trim()]=n}),e},{})},t.resolveNiceJSON=function(t){return null==t&&(t=""),t=t.trim(),t?"{"===t[0]?JSON.parse(t):(t=t.replace(/'/g,'"'),t="{"+t+"}",JSON.parse(t.replace(/(\{|,)\s*(.+?)\s*:/g,'$1 "$2":'))):{}},t.resolvePipedExpression=function(e){var n;return null==e&&(e=""),n=!1,t.reduce(e.split("|"),function(t,e){var r;return n&&t.length>0&&(r=t[t.length-1]+" ||"+e,t.length=t.length-1),n=0===e.length,r&&(e=r),0!==e.length&&t.push(e.trim()),t},[])},t.resolveLoopExpr=function(e){var n,r;return n=e.split(":"),n.length>1?(r=t.splitAndTrim(n.shift(),","),{expr:n[0],index:r[0],item:r[1]}):{expr:n[0]}},t.resolveWidgetArgs=function(e){var n;return n=e.split(";"),t.map(n,function(e){var n,r,i,o,s;return r=t.resolvePipedExpression(e),n=r.shift()||"",n=n.split(/:(.+)?/),s=n[0].trim(),i=e.substring(s.length).trim(),":"===i[0]&&(i=i.substring(1)),(o=n[1])&&(o=-1!==o.search(":")?t.explodeAndMap(o,",",":",{trim:!0}):{arg:o}),{wName:s,wArg:o,pipedArgs:r,rawArg:i}})},t.resolveExprOptions=function(e){var n,r;return r=t.resolvePipedExpression(e),r[1]&&(n=t.resolveNiceJSON(r[1])),{expr:r[0],opts:n}},t.resolveInputKeys=function(e){var n,r,i;return i=t.resolvePipedExpression(e),i[1]&&(r=t.resolveNiceJSON(i[1])),n=t.explodeAndMap(i[0],",",":",{trim:!0}),{keys:n,opts:r}},t.applyCallbackOptions=function(e,n){var r;return r=e,n&&n.debounce&&(r=t.debounce(r,n.debounce)),n&&n.toggleTimeout&&(r=t.toggleTimeout(r,n.toggleTimeout)),n&&n.timeout&&(r=t.timeout(r,n.timeout)),n&&n.defer&&(r=t.timeout(r,1)),r},t.parseInt=function(t,e,n){return null==n&&(n=10),null!=t&&""!==t?parseInt(t,n):null!=e?e:t}}.call(this),function(){var t;t=window.rh._,t.stackTrace=function(){var t;return t=new Error,t.stack},t.safeExec=function(t){return function(){var e,n;try{return t.apply(this,arguments)}catch(n){return e=n,void(rh._debug&&rh._d("log","Function: "+t,e.message))}}}}.call(this),function(){var t;t=window.rh._,t.addEventListener=function(t,e,n){return null==t&&(t=window),null!=t.addEventListener?t.addEventListener(e,n,!1):null!=t.attachEvent?t.attachEvent("on"+e,n):void 0},t.removeEventListener=function(t,e,n){return null==t&&(t=window),null!=t.removeEventListener?t.removeEventListener(e,n,!1):null!=t.detachEvent?t.detachEvent("on"+e,n):void 0},t.isTouchEnabled=function(){return"ontouchstart"in document.documentElement},t.preventDefault=function(t){return null!=t.preventDefault?t.preventDefault():t.returnValue=!1},t.mouseButton=function(t){return"buttons"in t?t.buttons:"which"in t?t.which:t.button},t.initMouseMove=function(){var e;return e=!1,function(){return e?void 0:(e=!0,t.addEventListener(document,"mousemove",function(e){var n;return!e.defaultPrevented&&(n={x:e.clientX,y:e.clientY,which:t.mouseButton(e)},rh.model.publish(rh.consts("EVT_MOUSEMOVE"),n,{sync:!0}),n.defaultPrevented)?t.preventDefault(e):void 0}))}}(),t.initTouchEvent=function(){var e;return e=!1,function(){var n,r,i,o,s;return!e&&t.isTouchEnabled()?(e=!0,i=s=r=o=0,n=t.debounce(function(){var t,e;return t=Math.atan((s-o)/(i-r)),e=i>r?t>Math.PI/4?"down":t<-Math.PI/4?"up":"right":t>Math.PI/4?"up":t<-Math.PI/4?"down":"left",rh.model.publish(".touchmove",{x:r,y:o,x1:i,y1:s}),rh.model.publish(rh.consts("EVT_SWIPE_DIR"),e,{sync:!0}),rh.model.publish(rh.consts("EVT_SWIPE_DIR"),null),r=o=0},200),t.addEventListener(document,"touchmove",function(e){var u,a;return i=(null!=(u=e.touches[0])?u.pageX:void 0)||0,s=(null!=(a=e.touches[0])?a.pageY:void 0)||0,0===r&&0===o&&(r=i,o=s),n(),t.preventDefault(e)})):void 0}}()}.call(this),function(){var t,e,n,r;t=window.rh._,r=/(^|[^\\])@([\w\.]*)\((.*)\)/,e=/(^|[^\\])@([\w\.]*)/,n=/@([A-Z][_A-Z0-9]*)/,t.resolvePublish=function(t){var e,n;for(n=new RegExp(r);;){if(e=n.exec(t),!e)break;t=t.replace(e[0],e[1]+" this.publish('"+e[2]+"', "+e[3]+")")}return t},t.resolveGet=function(t,n){var r,i;for(i=new RegExp(e);;){if(r=i.exec(t),!r)break;n&&-1===n.indexOf(r[2])&&n.push(r[2]),t=t.replace(r[0],r[1]+" this.get('"+r[2]+"')")}return t},t.resolveModelConst=function(t){var e,r,i,o,s;for(s="",o=new RegExp(n);;){if(i=o.exec(t),!i)break;r=rh.consts(i[1]),null!=r?t=t.replace(i[0],"@"+r):(e=i.index+i[1].length+1,s+=t.substring(0,e),t=t.substring(e))}return s+t},t.resolveModelKeys=function(t,e){return this.resolveGet(this.resolvePublish(this.resolveModelConst(t)),e)},t.isValidModelKey=function(t){var e;return"true"===t||"false"===t?!1:(e=t.match(/[._a-zA-Z][._a-zA-Z0-9 ]*/),e&&e[0]===t)},t.isValidModelConstKey=function(t){var e;return e=t.match(/[A-Z][_A-Z0-9]*/),e&&e[0]===t},t.get=function(t,e){var n,r,i,o,s,u;for(o=e.split("."),r=n=0,s=o.length;s>n;r=++n)if(i=o[r],0===r)u=t[i];else{if(!u)break;u=u[i]}return u},t.isScreenAttached=function(t){return!0===rh.model.get(rh.consts("KEY_SCREEN")+"."+t+".attached")},t.parentKey=function(t){var e;return e=t.split("."),e.pop(),e.join(".")},t.lastKey=function(t){var e;return e=t.split("."),e[e.length-1]},t.splitKey=function(t){var e,n,r;return n=t.split("."),e=n.pop(),r=n.join("."),{key:e,parentKey:r}}}.call(this),function(){var t;t=window.rh._,t.hasNonAsciiChar=function(e){return null==e&&(e=""),t.any(e,function(t){return t.charCodeAt(0)>127})}}.call(this),function(){var t,e,n;n=window.rh,t=n._,n._params=t.urlParams(),n._debugFilter=t.toRegExp(n._params.rh_debug),n._debug=null!=n._debugFilter,n._testFilter=t.toRegExp(n._params.rh_test),n._test=null!=n._testFilter,n._errorFilter=t.toRegExp(n._params.rh_error),n._error=null!=n._errorFilter,n._breakFilter=t.toRegExp(n._params.rh_break),n._break=null!=n._breakFilter,e=function(t,e){return t.join(" ").match(e)},n._d=function(){var r,i,o,s,u;if(i=window.console,n._debug&&i&&t.isFunction(i.log)){for(r=[],s=-1;++s<arguments.length;)r.push(arguments[s]);if(["info","log","warn","debug","error"].indexOf(r[0])>-1?(o=i[r[0]],r=r.slice(1)):o=i.debug,u=["[ "+r[0]+" ]:"].concat(r.slice(1)),""===n._debugFilter||e(u,n._debugFilter))return n._break&&e(u,n._breakFilter)?Function("","debugger")():n._error&&e(u,n._errorFilter)?i.error.apply(i,u):o.apply(i,u)}}}.call(this),function(){var t,e,n;n=window.rh,t={},n.consts=e=function(e,r){return 1===arguments.length?(n._debug&&(e in t||n._d("error","consts",e+" is not available")),t[e]):e in t?n._debug?n._d("error","consts",e+" is already registered"):void 0:t[e]=r},e("KEY_TEMP_DATA",".temp.data"),e("KEY_SHARED_INPUT","._sharedkeys.input"),e("KEY_SHARED_OUTPUT","._sharedkeys.output"),e("KEY_IFRAME_EVENTS",".l.iframe_events"),e("KEY_SCREEN",".l.screen"),e("KEY_DEFAULT_SCREEN",".l.default_screen"),e("KEY_SCREEN_NAMES",".l.screen_names"),e("KEY_SCREEN_DESKTOP",e("KEY_SCREEN")+".desktop.attached"),e("KEY_SCREEN_TABLET",e("KEY_SCREEN")+".tablet.attached"),e("KEY_SCREEN_TABLET_PORTRAIT",e("KEY_SCREEN")+".tablet_portrait.attached"),e("KEY_SCREEN_PHONE",e("KEY_SCREEN")+".phone.attached"),e("KEY_SCREEN_IOS",e("KEY_SCREEN")+".ios.attached"),e("KEY_SCREEN_IPAD",e("KEY_SCREEN")+".ipad.attached"),e("KEY_SCREEN_PRINT",e("KEY_SCREEN")+".print.attached"),e("EVT_ORIENTATION_CHANGE",".e.orientationchange"),e("EVT_HASH_CHANGE",".e.hashchange"),e("EVT_WIDGET_BEFORELOAD",".e.widget_beforeload"),e("EVT_WIDGET_LOADED",".e.widget_loaded"),e("EVT_BEFORE_UNLOAD",".e.before_unload"),e("EVT_UNLOAD",".e.unload"),e("EVT_MOUSEMOVE",".e.mousemove"),e("EVT_SWIPE_DIR",".e.swipe_dir"),e("EVT_FAST_CLICK",".e.fast_click"),e("EVT_CLICK_INSIDE_IFRAME",".e.click_inside_iframe"),e("EVT_SCROLL_INSIDE_IFRAME",".e.scroll_inside_iframe"),e("EVT_INSIDE_IFRAME_DOM_CONTENTLOADED","e.inside_iframe_dom_contentloaded")}.call(this),function(){var t,e,n;n=window.rh,e=n._,t=n.$=function(t,e){var n;return null!=e&&0===e?document.querySelector(t):(n=document.querySelectorAll(t),null!=e&&e<n.length?n[e]:n)},t.find=function(){var t,e;return arguments.length>1?(t=arguments[0],e=arguments[1]):(t=document,e=arguments[0]),t.querySelectorAll(e)},t.traverseNode=function(e,n,r,i,o){return null==o&&(o=window),n&&n.call(o,e)&&(t.eachChildNode(e,function(e){return!i||i.call(o,e)?t.traverseNode(e,n,r,i,o):void 0}),r&&r.call(o,e)),e},t.eachChildNode=function(t,e,n){var r,i,o,s;for(null==n&&(n=window),s=t.children,i=0,o=s.length;o>i;i++)r=s[i],e.call(n,r)},t.eachChild=function(t,e,n,r){var i,o,s,u;for(null==r&&(r=window),u=this.find(t,e),i=0,o=u.length;o>i;i++)s=u[i],n.call(r,s)},t.eachDataNode=function(e,n,r,i){var o,s,u,a;for(null==i&&(i=window),a=this.find(e,"[data-"+n+"]"),o=0,s=a.length;s>o;o++)u=a[o],r.call(i,u,t.dataset(u,n))},t.eachAttributes=function(t,e,n){var r,i,o,s;for(s=function(){var e,n,i,o;for(i=t.attributes,o=[],e=0,n=i.length;n>e;e++)r=i[e],o.push([r.specified,r.name,r.value]);return o}(),i=-1;++i<s.length;)o=s[i],o[0]!==!1&&e.call(n||window,o[1],o[2],s)},t.getAttribute=function(t,e){return null!=t.getAttribute?t.getAttribute(e):void 0},t.setAttribute=function(t,e,n){return null!=t.setAttribute?t.setAttribute(e,n):void 0},t.removeAttribute=function(t,e){return null!=t.removeAttribute?t.removeAttribute(e):void 0},t.hasAttribute=function(t,e){return null!=t.hasAttribute?t.hasAttribute(e):!0},t.dataset=function(e,n,r){return 3===arguments.length?null!=e.dataset?null!=r?e.dataset[n]=r:delete e.dataset[n]:null!=r?t.setAttribute(e,"data-"+n,r):t.removeAttribute(e,"data-"+n):null!=e.dataset?e.dataset[n]:t.getAttribute(e,"data-"+n)},t.isDescendent=function(t,e){var n;for(n=e.parentNode;;){if(!n||n===t)break;n=n.parentNode}return n===t},t.addClass=function(t,e){return null!=t.classList?t.classList.add(e):t.className=t.className+" "+e},t.removeClass=function(t,e){return null!=t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")},t.hasClass=function(t,e){return null!=t.classList?t.classList.contains(e):t.className?null!==t.className.match(new RegExp(e+"($| )")):void 0},t.toggleClass=function(e,n){return t.hasClass(e,n)?t.removeClass(e,n):t.addClass(e,n)},t.computedStyle=function(t){return t.currentStyle||window.getComputedStyle(t,null)},t.isVisibleNode=function(n){var r;return r=t.computedStyle(n),"none"!==r.display&&!e.isZeroCSSValue(r.opacity)&&!e.isZeroCSSValue(r["max-height"])},t.textContent=function(t,e){return 2===arguments.length?null!=t.textContent?t.textContent=e:t.innerText=e:t.textContent||t.innerText},t.innerHTML=function(t,e){return 2===arguments.length?t.innerHTML=e:t.innerHTML},t.css=function(t,e,n){return 3===arguments.length?t.style[e]=n:t.style[e]},t.nodeName=function(t){return t.nodeName},t.pageHeight=function(){var t,e,n;return e=document.documentElement,e&&(n=e.scrollHeight||e.clientHeight||e.offsetHeight),n||(n=window.innerHeight),n||(t=document.body,n=t.scrollHeight||t.clientHeight||t.offsetHeight),n+"px"},t.createElement=function(t,e){var n;return n=document.createElement(t),n.innerHTML=e,n}}.call(this),function(){var t,e,n,r,i,o,s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=window.rh,r=o._,i=o.consts,t=function(){function t(t,e){this.subscribers=null!=t?t:[],this.children=null!=e?e:{}}return t.prototype.getSubscribers=function(t,e,n,r){var i,o,s;return t.length>1?(r.push({fnsInfo:this.subscribers,key:e,value:n}),o=t[1],(i=this.children[o])&&(s=e+"."+o,i.getSubscribers(t.slice(1),s,null!=n?n[o]:void 0,r))):t.length>0&&this._getAllChildSubscribers(e,n,r),r},t.prototype.addSubscribers=function(e,n,r){var i,o;return 1===n.length?this.subscribers.push([e,r]):n.length>1?(o=n[1],null==(i=this.children)[o]&&(i[o]=new t),this.children[o].addSubscribers(e,n.slice(1),r)):void 0},t.prototype.removeSubscriber=function(t,e){return 1===e.length?this._deleteSubscriber(t):e.length>1?this.children[e[1]].removeSubscriber(t,e.slice(1)):void 0},t.prototype._deleteSubscriber=function(t){var e;return e=r.findIndex(this.subscribers,function(e){return e[0]===t}),null!=e&&-1!==e?this.subscribers.splice(e,1):o._debug?o._d("error","_unsubscribe",this+".{key} is not subscribed with "+t):void 0},t.prototype._getAllChildSubscribers=function(t,e,n){var r,i,o;if(n.push({fnsInfo:this.subscribers,key:t,value:e}),this.children){null==e&&(e={}),o=this.children;for(i in o)r=o[i],r._getAllChildSubscribers(t+"."+i,e[i],n)}return n},t}(),n=function(e){function n(t,e,r){this.subscribers=t,this.children=e,this.data=null!=r?r:{},n.__super__.constructor.call(this,this.subscribers,this.childs)}return s(n,e),n.prototype.getSubscribers=function(t){var e,n;return n=t[0],e=this.children[n],e?e.getSubscribers(t,""+t[0],this.data[t[0]],[]):[]},n.prototype.addSubscribers=function(e,n,r){var i,o;return o=n[0],null==(i=this.children)[o]&&(i[o]=new t),this.children[o].addSubscribers(e,n,r)},n.prototype.removeSubscriber=function(t,e){var n,r;return n=e[0],null!=(r=this.children[n])?r.removeSubscriber(t,e):void 0},n.prototype.getData=function(t){var e,n,i,o,s,u;for(e=this.data,i=n=0,s=t.length;s>n&&(o=t[i],r.isDefined(e));i=++n)i===t.length-1?u=e[o]:e=e[o];return u},n.prototype.setData=function(t,e){var n,i,o,s,u;for(n=this.data,o=i=0,u=t.length;u>i;o=++i)s=t[o],o===t.length-1?n[s]=e:(r.isDefined(n[s])||(n[s]={}),n=n[s])},n}(t),e=function(){function t(){this._rootNode=new n,this._count=e,e+=1}var e;return e=0,t.prototype.toString=function(){return"Model_"+this._count},t.prototype.get=function(t){var e;return this._isForGlobal(t)?o.model.get(t):(r.isString(t)?e=this._rootNode.getData(this._getKeys(t)):o._d("error","Get",this+"."+t+" is not a string"),o._debug&&o._d("log","Get",this+"."+t+": "+JSON.stringify(e)),e)},t.prototype.cget=function(t){return this.get(i(t))},t.prototype.publish=function(t,e,n){var i,s,u;return null==n&&(n={}),this._isForGlobal(t)?o.model.publish(t,e,n):(o._debug&&o._d("log","Publish",this+"."+t+": "+JSON.stringify(e)),void(r.isString(t)?(this._rootNode.setData(this._getKeys(t),e),u=this._rootNode.getSubscribers(this._getKeys(t)),s="."===t[0]?t.length-1:t.length,i=r.map(u,function(t){var e;return e=r.filter(t.fnsInfo,function(e){return r.isDefined(e[0])&&(e[1].partial!==!1||t.key.length>=s)}),{key:t.key,value:t.value,fns:r.map(e,function(t){return t[0]})}}),r.each(i,function(t){return function(e){return r.each(e.fns,function(r){var i;return o._debug&&o._d("log","Publish call",t+"."+e.key+": "+JSON.stringify(e.value)),i=function(){return t._unsubscribe(e.key,r)},n.sync?r(e.value,e.key,i):o._.defer(r,e.value,e.key,i)})}}(this))):o._d("error","Publish",this+"."+t+" is not a string")))},t.prototype.cpublish=function(t,e,n){return this.publish(i(t),e,n)},t.prototype.isSubscribed=function(t){var e,n,r,i,s;if(this._isForGlobal(t))return o.model.isSubscribed(t);for("."===t[0]&&(t=t.substring(1)),s=this._rootNode.getSubscribers(this._getKeys(t)),n=0,r=s.length;r>n;n++)i=s[n],i.key===t&&(e=!0);return e===!0},t.prototype.cisSubscribed=function(t){return this.isSubscribed(i(t))},t.prototype.subscribeOnce=function(t,e,n){var i;return null==n&&(n={}),i=r.isString(t)?[t]:t,this._subscribe(i.splice(0,1)[0],function(t){return function(r,o,s){return 0===i.length?e(r,o):t.subscribeOnce(i,e,n),s()}}(this),n)},t.prototype.csubscribeOnce=function(t,e,n){return this.subscribeOnce(i(t),e,n)},t.prototype.subscribe=function(t,e,n){var i;return null==n&&(n={}),r.isString(t)?this._subscribe(t,e,n):(i=r.map(t,function(t){return function(r){return t._subscribe(r,e,n)}}(this)),function(){return r.each(i,function(t){return t()})})},t.prototype.csubscribe=function(t,e,n){return this.subscribe(i(t),e,n)},t.prototype._subscribe=function(t,e,n){var r,i;return null==n&&(n={}),this._isForGlobal(t)?o.model.subscribe(t,e,n):(o._debug&&o._d("log","Subscribe",this+"."+t),this._rootNode.addSubscribers(e,this._getKeys(t),n),i=this._rootNode.getData(this._getKeys(t)),r=function(n){return function(){return n._unsubscribe(t,e)}}(this),(n.forceInit||null!=i&&!n.initDone)&&e(i,t,r),r)},t.prototype._unsubscribe=function(t,e){return this._isForGlobal(t)?o.model._unsubscribe(t):(o._debug&&o._d("log","_Unsubscribe",this+"."+t),this._rootNode.removeSubscriber(e,this._getKeys(t)))},t.prototype.isGlobal=function(){return this===o.model},t.prototype.isGlobalKey=function(t){return t&&"."===t[0]},t.prototype._isForGlobal=function(t){return!this.isGlobal()&&this.isGlobalKey(t)},t.prototype._getKeys=function(t){var e;return e=t.split("."),""===e[0]&&(e=e.slice(1)),o._debug&&0===e.length&&o._d("error","Model",this+"."+t+" is invalid"),e},t}(),o.Model=e,o.model=new e,o.model.toString=function(){return"GlobalModel"}}.call(this),function(){var t,e,n,r,i,o,s;s=window.rh,e=s._,t=s.$,o=s.model,i=function(n,r){return e.each(t.find(n,"[data-rhwidget]"),function(i){var o;if(!t.dataset(i,"loaded")&&t.isDescendent(n,i))return o=t.dataset(i,"config"),o=o?e.resolveNiceJSON(o):{},e.each(e.resolveWidgetArgs(t.dataset(i,"rhwidget")),function(t){var n,u,a,l,c,h;return l=t.wName,a=t.wArg,n=t.pipedArgs,u=t.rawArg,l[0]===l[0].toLowerCase()?o.rawArg=u:(n.length>0&&(o.pipedArgs=n),a&&e.extend(o,a)),o.node=i,c=s.widgets[l],h=new c(o),h.init(r)})})},n=function(n){var r,i,o,u,a,l,c;for(a=t.find(n,"[data-rhtags]"),l=[],i=0,o=a.length;o>i;i++)u=a[i],t.isDescendent(n,u)&&(r=t.dataset(u,"config"),r=r?e.resolveNiceJSON(r):{},r.ids=t.dataset(u,"rhtags").split(","),r.node=u,l.push(c=new s.widgets.ContentFilter(r)));return l},r=function(t,e){return i(t,e),n(t)},e.loadWidgets=i,e.loadContentFilter=n,e.loadDataHandlers=r}.call(this),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}};e=window.rh,t=function(){function t(){this.guard=n(this.guard,this)}return t.prototype.guard=function(t,e){return null==this.guardedNames&&(this.guardedNames=[]),-1===this.guardedNames.indexOf(e)?(this.guardedNames.push(e),t.call(this),this.guardedNames.splice(this.guardedNames.indexOf(e),1)):void 0},t}(),e.Guard=t,e.guard=(new t).guard}.call(this),function(){var t,e,n;n=window.rh,e=n._,t=function(){function t(){}return t.prototype.attachOwner=function(t){var e,n,r,i;if(null==this._ownerFns&&(this._ownerFns={}),this.hasOwner()&&this.detach(this.owner),this.owner=t,this._overrideNames)for(i=this._overrideNames,n=0,r=i.length;r>n;n++)e=i[n],this._overrideOwnerFn(e);return this.ownerIsChanged()},t.prototype.detachOwner=function(){var t;if(this.hasOwner()){if(this._ownerFns)for(t in this._ownerFns)this._restoreOwnerFn(t);return this.owner=null,this._ownerFns={},this.ownerIsChanged()}},t.prototype.ownerIsChanged=function(){},t.prototype.hasOwner=function(){return null!=this.owner},t.prototype.addOverrides=function(t){var e,n,r,i;for(null==this._overrideNames&&(this._overrideNames=[]),i=[],n=0,r=t.length;r>n;n++)e=t[n],this._overrideNames.push(e),i.push(this._overrideOwnerFn(e));return i},t.prototype.removeOverrides=function(t){var e,n,r,i,o;for(o=[],r=0,i=t.length;i>r;r++)e=t[r],this._restoreOwnerFn(e),n=this._overrideNames.indexOf(e),o.push(n>-1?this._overrideNames.splice(n,1):void 0);return o},t.prototype._overrideOwnerFn=function(t){var e;return this.hasOwner()?(e=this.owner[t],this._ownerFns[t]=e,this.owner[t]=function(n){return function(){var r,i,o;for(r=[],o=-1;++o<arguments.length;)r.push(arguments[o]);return i=function(t){return null!=e&&"function"==typeof e.apply?e.apply(n.owner,t):void 0},n[t](i,r)}}(this)):void 0},t.prototype._restoreOwnerFn=function(t){return this.hasOwner()?(this.owner[t]=this._ownerFns[t],delete this._ownerFns[t]):void 0},t}(),n.Plugin=t}.call(this),function(){var t,e,n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=window.rh,n=r._,t=r.$,e=function(e){function r(){this.$el=t("#console",0),this.$el&&(null==window.console&&(window.console={}),this.attachOwner(window.console),this.addOverrides(s),n.each(s,function(t,e){return this[t]=function(){return this.color=o[e],this.logger.apply(this,arguments)}},this),this.createChildNodes(),this.setUpInputBox())}var o,s;return i(r,e),s=["info","log","warn","debug","error"],o=["#00FF00","#000000","#0000FF","#0000FF","#FF0000"],r.prototype.ownerIsChanged=function(){return this.$el.style.display=this.hasOwner()?"":this.$el?"none":void 0},r.prototype.logger=function(e,r,i){var o,s,u,a,l,c,h,d;for(null==i&&(i="span"),c=[],d=document.createElement(i),a=0,l=r.length;l>a;a++)if(o=r[a],n.isFunction(o)||n.isString(o))c.push(o);else if(null!=o){try{h=JSON.stringify(o)}catch(u){s=u,h=s.name+": "+s.message}c.push(h)}else c.push("undefined");return"#FF0000"===this.color&&c.push(n.stackTrace()),d.style.color=this.color,t.textContent(d,c.join(" ")),this.$logNode.appendChild(d),this.$logNode.appendChild(document.createElement("br")),this.$el.scrollTop=this.$el.scrollHeight,e?e(r):void 0
},r.prototype.createChildNodes=function(){var e;return this.$logNode=t.find(this.$el,"p")[0],this.$logNode||(this.$logNode=document.createElement("p"),this.$logNode.className="console",this.$el.appendChild(this.$logNode)),this.$input=t.find(this.$el,"input")[0],this.$input?void 0:(e=document.createElement("label"),t.textContent(e,"> "),e.style.color="blue",this.$input=document.createElement("input"),this.$input.type="text",this.$input.className="console",this.$input.style.width="98%",this.$input.style.border="0",this.$input.style.padding="2px",this.$input.placeholder="Enter a valid expression",e.appendChild(this.$input),this.$el.appendChild(e))},r.prototype.setUpInputBox=function(){return this.$input.onkeydown=function(t){return function(e){var n,r,i,o;if(13===e.keyCode){t.color="#0000FF",i=t.$input.value;try{return o=Function("event","return "+i)(e),t.$input.value="",t.logger(null,[i],"b"),t.logger(null,[o])}catch(r){return n=r,t.color="#FF1100",t.logger(null,[n.name+": "+n.message],"b")}}}}(this)},r}(r.Plugin),r.Console=e}.call(this),function(){var t,e,n,r,i,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=window.rh,n=i._,t=i.$,r=i.consts,e=function(e){function u(t){this.reRender=o(this.reRender,this);var e,n,r,s;for(a+=1,this._count=a,s=this.supportedArgs,e=0,r=s.length;r>e;e++)n=s[e],t[n]&&(this[n]=t[n]);(this.templateExpr||this.include)&&(this.useTemplate=!0),this.parseOpts(t),this.node||i._d("error","constructor",this+" does not have a node")}var a;return s(u,e),a=0,u.prototype.toString=function(){return this.constructor.name+"_"+this._count},u.prototype.mapDataAttrMethods=function(t){return n.reduce(t,function(t,e){return t["data-"+e]="data_"+e,t},{})},u.prototype.dataAttrs=["repeat","init","stext","shtml","controller","class","animate","css","attr","value","checked","html","text","if","hidden","keydown","keyup","scroll","change","toggle","toggleclass","method","trigger","click","load","mouseover","mouseout","focus","blur","swipeleft","swiperight","swipeup","swipedown","screenvar"],u.prototype.dataAttrMethods=function(){return u.prototype.mapDataAttrMethods(u.prototype.dataAttrs)}(),u.prototype.dataIAttrs=["itext","ihtml","iclass","irepeat"],u.prototype.dataIAttrMethods=function(){return u.prototype.mapDataAttrMethods(u.prototype.dataIAttrs)}(),u.prototype.supportedArgs=["node","model","key","user_vars","templateExpr","include"],u.prototype.destruct=function(){var t,e,n,r;if(this.resetContent(),this._subscriptions)for(n=this._subscriptions,t=0,e=n.length;e>t;t++)(r=n[t])();return this._subscriptions=[],delete this.model,delete this.controllers},u.prototype.parseOpts=function(t){return this.opts=t,t.arg&&(this.key=t.arg),this.parsePipedArg()},u.prototype.parsePipedArg=function(){var t;return t=this.opts.pipedArgs,(null!=t?t.shift:void 0)?this.modelArgs=n.resolveNiceJSON(t.shift()):void 0},u.prototype.get=function(t){return null==this.model&&(this.model=new i.Model),this.model.get(t)},u.prototype.publish=function(t,e,n){return null==this.model&&(this.model=new i.Model),this.model.publish(t,e,n)},u.prototype.subscribe=function(t,e,n){var r;if(null!=t)return null==this.model&&(this.model=new i.Model),r=this.model.subscribe(t,e,n),(this.model.isGlobal()||this.model.isGlobal(t))&&(r=this.storeSubscribe(r)),r},u.prototype.subscribeOnly=function(t,e,n){return null==n&&(n={}),n.initDone=!0,this.subscribe(t,e,n)},u.prototype.storeSubscribe=function(t){var e;return null==this._subscriptions&&(this._subscriptions=[]),e=function(n){return function(){var r;return r=n._subscriptions.indexOf(e),null!=r&&-1!==r&&n._subscriptions.splice(r,1),t()}}(this),this._subscriptions.push(e),e},u.prototype.patchScreenOptions=function(t,e){var i,o;return i=n.isString(e)?[e]:e,o=n.map(i,function(t){return"@"+r("KEY_SCREEN")+"."+t+".attached"}).join(" || "),o?o+" ? ("+t+") : null":t},u.prototype.patchDirOptions=function(t,e){return"@"+r("KEY_DIR")+" == '"+e+"' ? ("+t+") : null"},u.prototype.patchRawExprOptions=function(t,e){return e.screen&&(t=this.patchScreenOptions(t,e.screen)),null!=e.dir&&(t=this.patchDirOptions(t,e.dir)),t},u.prototype.patchRawExpr=function(t,e){return t&&n.isValidModelKey(t)&&(t="@"+t),e&&(t=this.patchRawExprOptions(t,e)),t},u.prototype.resolveEventRawExpr=n.memoize(function(t){var e,r,i,o,s;return s=n.resolveExprOptions(t),r=s.expr,o=s.opts,r=this.patchRawExpr(r,o),i=this._function("event, node",r),e=n.safeExec(i),e=n.applyCallbackOptions(e,o),{callback:e,opts:o}}),u.prototype.resolveRawExprWithValue=n.memoize(function(t){var e,r,i,o,s,u;return o=[],u=n.resolveExprOptions(t),r=u.expr,s=u.opts,r=this.patchRawExpr(r,s),i=this._evalFunction("",r,o),e=n.safeExec(i),e=n.applyCallbackOptions(e,s),{callback:e,keys:o,opts:s}}),u.prototype.subscribeExpr=function(t,e,n,r){var i,o,s,u,a,l,c,h,d;if(null!=t){for(c=this.resolveRawExprWithValue(t),i=c.callback,a=c.keys,o=c.expOpts,h=function(t){return function(){return e.call(t,i.call(t),o)}}(this),s=0,l=a.length;l>s;s++)u=a[s],d=this.subscribeOnly(u,h,r),n&&n.push(d);return h()}},u.prototype.resetContent=function(){var t,e,n,r,i,o,s,u;if(this.children)for(o=this.children,e=0,r=o.length;r>e;e++)t=o[e],t.destruct();if(this.htmlSubs)for(s=this.htmlSubs,n=0,i=s.length;i>n;n++)(u=s[n])();return this.children=[],this.htmlSubs=[]},u.prototype.addChild=function(t){return null==this.children&&(this.children=[]),this.children.push(t)},u.prototype.linkModel=function(t,e,n,r,i){var o;return null==i&&(i={}),o=null!=i.partial?i.partial:!1,this.storeSubscribe(t.subscribe(e,function(t){return function(e){return t.guard(function(){return n.publish(r,e,{sync:!0})},t.toString())}}(this),{partial:o}))},u.prototype.init=function(e){var n;if(!this.initDone)return this.initDone=!0,this.initParent(e),this.initModel(),(n=t.dataset(this.node,"init"))&&(this.data_init(this.node,n),t.dataset(this.node,"init",null)),this.render(),this.subscribeOnly(this.opts.renderkey,this.reRender,{partial:!1})},u.prototype.initParent=function(e){var r,o,s,u,a,l,c,h,d;return e&&e.addChild(this),a=(null!=e?e.model:void 0)||i.model,r=null!=(l=t.dataset(this.node,"input"))?l.trim():void 0,u=null!=(c=t.dataset(this.node,"output"))?c.trim():void 0,"."===r||"."===u?this.model=a:((r||u||this.key)&&null==this.model&&(this.model=new i.Model),r&&(h=n.resolveInputKeys(r),o=h.keys,s=h.opts,n.each(o,function(t,e){return null==t&&(t=e),this.linkModel(a,t,this.model,e,s)},this)),u?(d=n.resolveInputKeys(u),o=d.keys,s=d.opts,n.each(o,function(t,e){return null==t&&(t=e),this.linkModel(this.model,e,a,t,s)},this)):void 0)},u.prototype.initModel=function(){return this.modelArgs?(n.each(this.modelArgs,function(t,e){return this.publish(e,t)},this),delete this.modelArgs):void 0},u.prototype.initUI=function(){var e;return i._debug?(e=t.dataset(this.node,"loaded"),e&&(e=e+";"+this),t.dataset(this.node,"loaded",e||this)):t.dataset(this.node,"loaded",!0),this.templateExpr&&this.subscribeTemplateExpr(),this.include&&this.subscribeIncludePath(),null==this.tplNode&&(this.tplNode=this.node),this.resetContent()},u.prototype.subscribeTemplateExpr=function(){var e;return e=!0,this.subscribeExpr(this.templateExpr,function(n){return this.tplNode=t.createElement("div",n).firstChild,e?void 0:this.reRender(!0)}),e=!1,this.templateExpr=void 0},u.prototype.subscribeIncludePath=function(){return n.require(this.include,function(t){return function(e){return t.setTemplate(e)}}(this)),this.include=void 0},u.prototype.setTemplate=function(e){return this.useTemplate=!0,this.tplNode=t.createElement("div",e).firstChild,this.reRender(!0)},u.prototype.reRender=function(t){return t&&this.tplNode?this.render():void 0},u.prototype.preRender=function(){var t;return this.useTemplate&&(t=this.node,this.node=this.tplNode.cloneNode(!0)),t},u.prototype.postRender=function(t){return t&&t.parentNode?t.parentNode.replaceChild(this.node,t):void 0},u.prototype.alterNodeContent=function(){},u.prototype.render=function(){var t;return i._test&&i.model.publish("test."+this+".render.begin",n.time()),this.initUI(),t=this.preRender(),this.nodeHolder=new i.NodeHolder([this.node]),this.alterNodeContent(),this.resolveDataAttrs(this.node),n.loadDataHandlers(this.node,this),this.postRender(t),i._test?i.model.publish("test."+this+".render.end",n.time()):void 0},u.prototype.isVisible=function(){return this.nodeHolder.isVisible()},u.prototype.show=function(){return this.nodeHolder.show()},u.prototype.hide=function(){return this.nodeHolder.hide()},u.prototype.toggle=function(){return this.isVisible()?this.hide():this.show()},u.prototype.isWidgetNode=function(e){return t.dataset(e,"rhwidget")},u.prototype.isDescendent=function(t){var e,n,r;for(e=t;;){if(r=e.parentNode,!r)break;if(this.isWidgetNode(e)){n=r;break}if(this.node===r)break;e=r}return null!=n},u.prototype.eachChild=function(e,n){return t.eachChild(this.node,e,function(t){return this.isDescendent(t)?void 0:n.call(this,t)},this)},u.prototype.eachDataNode=function(e,n){return t.eachDataNode(this.node,e,function(t,e){return this.isDescendent(t)?void 0:n.call(this,t,e)},this)},u.prototype.traverseNode=function(e,n,r){return t.traverseNode(e,n,r,function(t){return!this.isDescendent(t)},this)},u.prototype.resolveDataAttrs=function(e){return this.traverseNode(e,function(e){var r;return n.isString(r=t.dataset(e,"repeat"))?(this.data_repeat(e,r),!1):(t.eachAttributes(e,function(t,n){var r;return r=this.dataAttrMethods[t],r&&n?this[r].call(this,e,n):void 0},this),!0)})},u.prototype.resolveRepeatExpr=function(t){var e,r,i;return i=n.resolvePipedExpression(t),r=i[1]&&n.resolveNiceJSON(i[1]),e=n.resolveLoopExpr(i[0]),(null!=r?r.filter:void 0)&&(e.filter=this._evalFunction("item, index",r.filter)),e.step=(null!=r?r.step:void 0)||1,e},u.prototype.resolveRepeatVar=function(t,e,r,i,o){return i[t]=i[t]||function(){switch(t){case"@index":return r;case"@size":return e.length;case"this":return e;default:return n.isValidModelKey(t)?n.get(e,t):this.subscribeIDataExpr(o,t,e,r)}}.call(this)},u.prototype.resolveEnclosedVar=function(t,e,r,i,o){return n.resolveEnclosedVar(t,function(t){return this.resolveRepeatVar(t,e,r,i,o)},this)},u.prototype.updateEncloseVar=function(e,n,r,i,o,s){var u;return u=this.resolveEnclosedVar(n,r,i,o,s),""===u?t.removeAttribute(s,e):u!==n&&t.setAttribute(s,e,u),u},u.prototype.updateWidgetEncloseVar=function(e,r,i,o){return n.each(["rhwidget","input","output","init"],function(n){var s;return(s=t.dataset(o,n))?this.updateEncloseVar("data-"+n,s,e,r,i,o):void 0},this)},u.prototype.isRepeat=function(e){return t.dataset(e,"repeat")||t.dataset(e,"irepeat")},u.prototype.resolveNestedRepeat=function(e,r,i,o){return n.each(["repeat","irepeat"],function(n){var s,u;return(u=t.dataset(e,n))&&(u=this.updateEncloseVar("data-"+n,u,r,i,o,e),""!==u)&&"function"==typeof this[s="data_"+n]?this[s](e,u,r,i):void 0},this)},u.prototype.resolveItemIndex=function(e,r,i){var o;if(e.children)return o={},t.traverseNode(e,function(s){return function(u){return u!==e&&t.dataset(u,"rhwidget")?(s.updateWidgetEncloseVar(r,i,o,u),!1):s.isRepeat(u)?(s.resolveNestedRepeat(u,r,i,o),!1):(t.eachAttributes(u,function(e,s,a){var l;if(n.isString(s)){if(0===e.search("data-")&&(s=this.updateEncloseVar(e,s,r,i,o,u)),""===s)return;if(l=this.dataIAttrMethods[e]){if(this[l].call(this,u,s,r,i,a))return t.removeAttribute(u,e)}else if(0===e.search("data-i-"))return this.data_iHandler(u,s,r,i,e.substring(7)),t.removeAttribute(u,e)}},s),!0)}}(this))},u.prototype.guard=function(t,e){return null==e&&(e="ui"),u.__super__.guard.call(this,t,e)},u.prototype.data_repeat=function(e,n){var r,o;return t.dataset(e,"repeat",null),e.removeAttribute("data-repeat"),o=this.resolveRepeatExpr(n),r=new i.NodeHolder([e]),this.subscribeDataExpr(o.expr,function(t){return function(n){return t._repeatNodes(r,n,o,e)}}(this),{partial:!1}),!0},u.prototype.resolve_rif=function(e,n,r){var i,o,s,u,a,l,c,h;if((c=t.dataset(e,"rif"))&&(i=this._evalFunction("item, index",c)),!i||i.call(this,n,r))for(u=e.cloneNode(!1),t.dataset(u,"rif",null),h=e.childNodes,a=0,l=h.length;l>a;a++)o=h[a],s=this.resolve_rif(o,n,r),s&&u.appendChild(s);return u},u.prototype.resolveExpression=n.memoize(function(t){var e;return e=[],{expr:n.resolveModelKeys(n.resolveNamedVar(t),e),keys:e}}),u.prototype._safeFunction=n.memoize(function(t,e){var n,r,o;try{o=new Function(t,e)}catch(r){n=r,o=function(){},i._debug&&i._d("error","Expression: "+e,n.message)}return o}),u.prototype._function=function(t,e,n){var r,i,o,s,u;if(r=this.resolveExpression(e),n)for(u=r.keys,i=0,s=u.length;s>i;i++)o=u[i],n.push(o);return this._safeFunction(t,r.expr)},u.prototype._evalFunction=function(t,e,n){return this._function(t,"return "+e+";",n)},u.prototype._setLoopVar=function(t,e,n){var r;return r={},t.item&&(r.item=this.user_vars[t.item],this.user_vars[t.item]=e),t.index&&(r.index=this.user_vars[t.index],this.user_vars[t.index]=n),r},u.prototype._repeatNodes=function(e,n,r,i){var o,s,u,a,l,c,h,d,p,f,v;for(null==n&&(n=[]),null==this.user_vars&&(this.user_vars={}),h=[],s=r.filter,f=r.step,p=f,p>0?(a=u=0,c=n.length):a=u=n.length-1;p>0?c>u:u>=0;a=u+=p)l=n[a],d=this._setLoopVar(r,l,a),(!s||s.call(this,l,a))&&(o=this.resolve_rif(i,l,a))&&(h.push(o),this.resolveItemIndex(o,l,a),this.resolveDataAttrs(o)),this._setLoopVar(r,d.item,d.index);return 0===h.length&&(v=i.cloneNode(!1),t.addClass(v,"rh-hide"),h.push(v)),e.updateNodes(h)},u.prototype.data_irepeat=function(e,n,r,o){var s,u,a;return t.dataset(e,"irepeat",null),u=this.resolveRepeatExpr(n),s=new i.NodeHolder([e]),a=this.subscribeIDataExpr(e,u.expr,r,o),this._repeatNodes(s,a,u,e),!0},u.prototype.subscribeIDataExpr=function(t,e,n,r){var o,s,u;u=this._evalFunction("item, index, node",e);try{return u.call(this,n,r,t)}catch(s){if(o=s,i._debug)return i._d("error","iExpression: "+e,o.message)}},u.prototype.data_itext=function(e,n,r,i){return t.textContent(e,this.subscribeIDataExpr(e,n,r,i)),!0},u.prototype.data_ihtml=function(t,e,n,r){return t.innerHTML=this.subscribeIDataExpr(t,e,n,r),!0},u.prototype.data_iclass=function(e,n,r,i){var o;return o=this.subscribeIDataExpr(e,n,r,i),o&&t.addClass(e,o),!0},u.prototype.data_iHandler=function(e,n,r,i,o){var s;return s=this.subscribeIDataExpr(e,n,r,i),s&&t.setAttribute(e,o,s),!0},u.prototype.data_shtml=function(e,n){return t.removeAttribute(e,"data-shtml"),e.innerHTML=this.get(n)},u.prototype.data_stext=function(e,n){return t.removeAttribute(e,"data-stext"),t.textContent(e,this.get(n)||"")},u.prototype.data_init=function(t,e){var r,i;return i=n.resolveExprOptions(e),r=this._function("node",i.expr),r=n.applyCallbackOptions(r,i.opts),r.call(this,t)},u.prototype.subscribeDataExpr=function(t,e,n){return this.subscribeExpr(t,e,this.htmlSubs,n)},u.prototype._eventCallBackData={},u.prototype._data_event_callback=function(t){var e,r;return e=u.prototype._eventCallBackData[t],null==e&&(e={},r=n.resolvePipedExpression(t),e.callback=this._function("event, node",r[0]),r[1]&&(e.opts=n.resolveNiceJSON(r[1])),u.prototype._eventCallBackData[t]=e),e},u.prototype.data_if=function(t,e){var n;return n=new i.NodeHolder([t]),this.subscribeDataExpr(e,function(t){return t?n.show():n.hide()})},u.prototype.data_hidden=function(t,e){var n;return n=new i.NodeHolder([t]),this.subscribeDataExpr(e,function(t){return n.accessible(!t)})},u.prototype.data_html=function(t,e){return this.subscribeDataExpr(e,function(e){return null==e&&(e=""),t.innerHTML=e})},u.prototype.data_text=function(e,n){return this.subscribeDataExpr(n,function(n){return null==n&&(n=""),t.textContent(e,n)})},u.prototype.resolveAttr=function(){var t;return t={},function(e){var r;return r=t[e],null==r&&(r=n.resolveAttr(e),t[e]=r),r}}(),u.prototype.data_class=function(t,e){return n.each(this.resolveAttr(e),function(e,n){var r;return r=new i.NodeHolder([t]),this.subscribeDataExpr(e,function(t){var e;return e=t?[n]:[],r.updateClass(e)})},this)},u.prototype.data_attr=function(e,r){return n.each(this.resolveAttr(r),function(n,r){return this.subscribeDataExpr(n,function(n){return null!=n?t.setAttribute(e,r,n):t.hasAttribute(e,r)?t.removeAttribute(e,r):void 0})},this)},u.prototype.data_css=function(e,r){return n.each(this.resolveAttr(r),function(n,r){return this.subscribeDataExpr(n,function(n){return null==n&&(n=null),t.css(e,r,n)})},this)},u.prototype.data_checked=function(e,i){var o;return n.isValidModelConstKey(i)&&(i=r(i)),o=e.getAttribute("type"),"checkbox"===o||"radio"===o?(t.getAttribute(e,"checked")&&this.guard(function(){return this.publish(i,e.getAttribute("value",{sync:!0}))}),e.onclick=function(t){return function(){var n,r;return n=e.getAttribute("value"),r=null===n?e.checked:e.checked?n:void 0,t.guard(function(){return this.publish(i,r,{sync:!0})})}}(this),this.htmlSubs.push(this.subscribe(i,function(t){var n;return n=e.getAttribute("value"),e.checked=null!=n?t===n:t===!0}))):void 0},u.prototype.data_value=function(t,e){var i;return n.isValidModelConstKey(e)&&(e=r(e)),i=Math.random(),t.value&&this.guard(function(){return this.publish(e,t.value,{sync:!0})},i),t.onchange=function(n){return function(){return n.guard(function(){return this.guard(function(){return this.publish(e,t.value,{sync:!0})})},i)}}(this),this.htmlSubs.push(this.subscribe(e,function(e){return function(n){return e.guard(function(){return t.value=n},i)}}(this)))},u.prototype._register_event_with_rawExpr=function(t,e,r){var i;return i=this.resolveEventRawExpr(r).callback,n.addEventListener(e,t,function(t){return function(e){return i.call(t,e,e.currentTarget)}}(this)),i},u.prototype.data_click=function(t,e){return this._register_event_with_rawExpr("click",t,e)},u.prototype.data_mouseover=function(t,e){return this._register_event_with_rawExpr("mouseover",t,e)},u.prototype.data_mouseout=function(t,e){return this._register_event_with_rawExpr("mouseout",t,e)},u.prototype.data_focus=function(t,e){return this._register_event_with_rawExpr("focus",t,e)},u.prototype.data_blur=function(t,e){return this._register_event_with_rawExpr("blur",t,e)},u.prototype.data_trigger=function(t,e){return n.isValidModelConstKey(e)&&(e=r(e)),n.addEventListener(t,"click",function(t){return function(){return t.publish(e,null)}}(this))},u.prototype.data_method=function(t,e){return n.addEventListener(t,"click",function(t){return function(n){return n.defaultPrevented?void 0:(t[e]||window[e])(n)}}(this))},u.prototype._toggleData={},u.prototype.data_toggle=function(t,e){var r,i,o,s,a,l;return s=[],o=u.prototype._toggleData[e],null==o&&(l=n.resolvePipedExpression(e),i=l.shift()||"",i=n.explodeAndMap(i,";",":",{trim:!0}),l[0]&&(a=n.resolveNiceJSON(l[0])),o={keyValues:i,opts:a},u.prototype._toggleData[e]=o),n.each(o.keyValues,function(t,e){return s.push(e),null!=t?this.guard(function(){return this.publish(e,"true"===t,{sync:!0})}):void 0},this),r=function(t){return function(e){return t.guard(function(){return this.publish(e,!this.get(e),{sync:!0})})}}(this),o.opts&&(r=n.applyCallbackOptions(r,o.opts)),n.addEventListener(t,"click",function(t){return n.each(s,function(e){return t.defaultPrevented?void 0:r(e)})})},u.prototype.data_toggleclass=function(e,r){var i;return i=n.splitAndTrim(r,","),n.addEventListener(e,"click",function(r){return r.defaultPrevented?void 0:(e=r.currentTarget,n.each(i,function(n){return t.hasClass(e,n)?t.removeClass(e,n):t.addClass(e,n)}))})},u.prototype.data_change=function(t,e){var r,i;return i=this._data_event_callback(e),r=n.applyCallbackOptions(i.callback,i.opts),t.onchange=function(t){return function(e){return r.call(t,e,e.currentTarget)}}(this)},u.prototype.data_keydown=function(t,e){var r,i,o;return i=this._data_event_callback(e),r=n.applyCallbackOptions(i.callback,i.opts),o=i.opts&&i.opts.keyCode,t.onkeydown=function(t){return function(e){return o&&o!==e.keyCode?void 0:r.call(t,e,e.currentTarget)}}(this)},u.prototype.data_keyup=function(t,e){var r,i,o;return i=this._data_event_callback(e),r=n.applyCallbackOptions(i.callback,i.opts),o=i.opts&&i.opts.keyCode,t.onkeyup=function(t){return function(e){return o&&o!==e.keyCode?void 0:r.call(t,e,e.currentTarget)}}(this)},u.prototype.data_scroll=function(t,e){var r,i,o,s;return i=this._data_event_callback(e),s=i.opts,o=s&&s.delta||100,r=function(e){return function(n){var r;return r=t.getBoundingClientRect(),t.scrollTop>t.scrollHeight-(r.height+o)?i.callback.call(e,n,t):void 0}}(this),s&&(r=n.applyCallbackOptions(r,s)),n.addEventListener(t,"scroll",r)},u.prototype._loadData={},u.prototype.data_load=function(e,r){var i,o,s;return s=r.split(":"),i=s[0],o=s[1],u.prototype._loadData[i]?void 0:n.addEventListener(e,"click",function(r){return function(){var s;return u.prototype._loadData[i]?void 0:(u.prototype._loadData[i]=!0,o&&(t.addClass(e,"loading"),s=r.subscribeOnly(o,function(){return t.removeClass(e,"loading"),s()})),n.loadScript(i))}}(this))},u.prototype.data_controller=function(t,e){var r,o,s,u,a,l,c,h,d;for(null==this.user_vars&&(this.user_vars={}),d=n.splitAndTrim(e,";"),a=0,l=d.length;l>a;a++)u=d[a],h=n.resolvePipedExpression(u),h[1]&&(c=n.resolveNiceJSON(h[1])),h=n.splitAndTrim(h[0],":"),0===h.length&&(h=n.splitAndTrim(h[0]," as ")),null!=h[0]&&(o=i.controller(h[0])),s=h[1],o&&!this.user_vars[s]?(r=new o(this,c),s&&(this.user_vars[s]=r)):i._debug&&!o&&i._d("error","Controller "+o+" not found")},u.prototype.data_screenvar=function(t,e){var i,o,s,u;return s=n.splitAndTrim(e,","),o=n.findIndex(this.get(r("KEY_SCREEN")),function(t){return t.attached}),i={},i[o]={},u=this.get(r("KEY_SCREEN")),n.each(n.keys(u),function(t){return this.subscribeOnly(r("KEY_SCREEN")+"."+t+".attached",function(e){return function(r){var u;if(r)return n.each(s,function(e){return i[o][e]=this.get(e),null!=i[t]?this.publish(e,i[t][e]):void 0},e),null!=i[u=o=t]?i[u]:i[u]={}}}(this))},this)},u}(i.Guard),i.widgets={},i.Widget=e,i.widgets.Basic=e}.call(this),function(){var t,e,n,r,i,o;i=window.rh,e=i._,t=i.$,n=i.consts,r=t("head",0),o=document.createElement("style"),o.innerHTML=".rh-hide:not(.rh-animate){display:none !important;}",r.insertBefore(o,r.childNodes[0]),e.addEventListener(document,"DOMContentLoaded",e.one(function(){return i._debug&&null==i.console&&(i.console=new i.Console),i.model.publish(n("EVT_WIDGET_BEFORELOAD"),!0,{sync:!0}),e.loadWidgets(document),e.loadContentFilter(document),i.model.publish(n("EVT_WIDGET_LOADED"),!0,{sync:!0})})),e.isIframe()&&(e.addEventListener(window,"beforeunload",function(){return void i.model.publish(n("EVT_BEFORE_UNLOAD"),!0,{sync:!0})}),e.addEventListener(window,"unload",function(){return void i.model.publish(n("EVT_UNLOAD"),!0,{sync:!0})}))}.call(this),function(){var t,e;e=window.rh,t=e._,t.addEventListener(window,"message",function(n){var r,i,o,s,u,a,l;if(t.isSameOrigin(n.origin)&&(i=n.data,t.isObject(i))){if(i.rhmodel_publish&&(r=i.rhmodel_publish))for(s in r)l=r[s],e.iframe.publish(s,l,{sync:!0});return i.rhmodel_subscribe&&(r=i.rhmodel_subscribe,o=r.input||[],a=!e.model.get("_sharedkeys.input"),u=t.reduce(o,function(t,e){return(a||e.nested!==!1)&&t.push(e.key),t},[]),(null!=u?u.length:void 0)&&e.iframe.linkModel(n.source,r.id,u)),i.rhmodel_unsubscribe?(r=i.rhmodel_unsubscribe,e.iframe.clean(r.id)):void 0}})}.call(this),function(){var t,e,n,r,i,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=window.rh,n=i._,t=i.$,r=i.consts,e=function(t){function e(){this.unsubscribe=o(this.unsubscribe,this),this.linkedSubs={},n.isIframe()&&(i.model.subscribe(r("EVT_BEFORE_UNLOAD"),this.unsubscribe),i.model.subscribe(r("EVT_UNLOAD"),this.unsubscribe))}return s(e,t),e.prototype.toString=function(){return"Iframe"},e.prototype.unsubscribe=function(){var t;return this.parent?(t={id:this.id},this.parent.postMessage({rhmodel_unsubscribe:t},"*"),this.parent=void 0):void 0},e.prototype.init=function(){var t,e,r,o;return null==this.id&&(this.id=n.uniqueId()),this.parent=window.parent,n.isIframe()&&(t=i.model.get("_sharedkeys.input"),t&&(e=n.map(t,function(t){return n.isString(t)?{key:t}:t}),r={input:e,id:this.id},this.parent.postMessage({rhmodel_subscribe:r},"*")),o=i.model.get("_sharedkeys.output"))?this.linkModel(this.parent,this.id,o):void 0},e.prototype.clean=function(t){var e,n,r,i;if(r=this.linkedSubs[t]){for(e=0,n=r.length;n>e;e++)(i=r[e])();return delete this.linkedSubs[t]}},e.prototype.linkModel=function(t,e,n){var r,o,s,u,a;for(null==n&&(n=[]),a=[],r=function(n){return function(r,i){return n.guard(function(){var e;return e={},e[i]=r,t.postMessage({rhmodel_publish:e},"*")},e)}}(this),o=0,u=n.length;u>o;o++)s=n[o],s=s.trim(),a.push(i.model.subscribe(s,r));return this.clean(e),this.linkedSubs[e]=a},e.prototype.publish=function(t,e,n){return null==n&&(n={}),this.guard(function(){return i.model.publish(t,e,n)})},e.prototype.guard=function(t,n){return null==n&&(n=this.id),e.__super__.guard.call(this,t,n)},e}(i.Guard),i.iframe=new e}.call(this),function(){var t,e,n;n=window.rh,e=n._,t=function(){function t(){}return t.prototype.toString=function(){return"Storage"},t.prototype.init=function(t){var r,i;return this.namespace?n._debug&&this.namespace!==t?n._d("error","Storage","Namespace cann't be changed"):void 0:(this.namespace=t,e.canUseLocalDB()?r=localStorage.getItem(this.namespace):(i=e.explodeAndMap(document.cookie,";","="),i[this.namespace]&&(r=unescape(i[this.namespace]))),this.storageMap=r?JSON.parse(r):{})},t.prototype.isValid=function(){return n._debug&&!this.storageMap&&n._d("error","Storage","Namespace is not set yet."),null!=this.storageMap},t.prototype.persist=function(t,e){return this.isValid()?(this.storageMap[t]=e,this.dump()):void 0},t.prototype.fetch=function(t){return this.isValid()?this.storageMap[t]:void 0},t.prototype.dump=function(){return this.isValid()?e.canUseLocalDB()?localStorage.setItem(this.namespace,JSON.stringify(this.storageMap)):document.cookie=this.namespace+"="+escape(JSON.stringify(this.storageMap)):void 0},t}(),n.storage=new t}.call(this),function(){var t,e,n,r,i;i=window.rh,e=i._,n=i.consts,r=i.model,t=function(){function t(){this.subs=[],r.subscribe(n("EVT_ORIENTATION_CHANGE"),function(t){return function(){return e.each(t.subs,function(t){return t.eventHandler(t.mql)})}}(this)),i._debug&&!this.isSupported()&&i._d("Browser Issue","matchMedia is not supported.")}return t.prototype.toString=function(){return"Responsive"},t.prototype.isSupported=function(){return null!=window.matchMedia},t.prototype.attach=function(t,e,n){var r,i;return this.isSupported?(i=window.matchMedia(t),r=function(t){return t.matches?e():n()},r(i),i.addListener(r),this.subs.push({mql:i,on:e,off:n,eventHandler:r})):void 0},t.prototype.detach=function(t,e,n){var r,i,o,s,u;for(s=this.subs,i=r=0,o=s.length;o>r;i=++r)if(u=s[i],u.mql.media===t&&u.on===e&&u.off===n){u.mql.removeListener(u.eventHandler),this.subs.splice(i);break}},t}(),i.responsive=new t}.call(this),function(){var t,e,n,r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}};o=window.rh,e=o._,n=o.consts,i=o.model,r={desktop:{media_query:"screen and (min-width: 1296px)"},tablet:{media_query:"screen and (min-width: 942px) and (max-width: 1295px)"},phone:{media_query:"screen and (max-width: 941px)"},ios:{user_agent:/(iPad|iPhone|iPod)/g},ipad:{user_agent:/(iPad)/g},print:{media_query:"print"}},t=function(){function t(){this.offScreen=s(this.offScreen,this),this.onScreen=s(this.onScreen,this),this.subscribeScreen=s(this.subscribeScreen,this);var t;t=e.extend({},r,i.get(n("KEY_SCREEN"))),t&&e.each(t,this.subscribeScreen)}return t.prototype.attachedKey=function(t){return n("KEY_SCREEN")+"."+t+".attached"},t.prototype.subscribeScreen=function(t,r){return t.user_agent&&!window.navigator.userAgent.match(e.toRegExp(t.user_agent))?this.offScreen(r):t.media_query?o.responsive.isSupported()?o.responsive.attach(t.media_query,function(t){return function(){return t.onScreen(r)}}(this),function(t){return function(){return t.offScreen(r)}}(this)):r===i.get(n("KEY_DEFAULT_SCREEN"))?this.onScreen(r):this.offScreen(r):this.onScreen(r)},t.prototype.onScreen=function(t){var e;return e=this.attachedKey(t),i.publish(e,!0)},t.prototype.offScreen=function(t){var e;return e=this.attachedKey(t),!1!==i.get(e)?i.publish(e,!1):void 0},t}(),i.subscribe(n("EVT_WIDGET_BEFORELOAD"),function(){var e;return e=null,function(){return null!=e?e:e=new t}}()),i.publish(n("KEY_SCREEN_NAMES"),["desktop","tablet","phone"]),i.publish(n("KEY_SCREEN"),r),i.publish(n("KEY_DEFAULT_SCREEN"),"phone")}.call(this),function(){var t,e,n,r;r=window.rh,t=r.$,n=r._,e=function(){function e(t){this.nodes=t}return e.prototype.isVisible=function(e){return null==e&&(e=this.nodes[0]),!t.hasClass(e,"rh-hide")},e.prototype.show=function(){return n.each(this.nodes,function(e){return this.isVisible(e)?void 0:(t.removeClass(e,"rh-hide"),e.hidden=!1)},this)},e.prototype.hide=function(){return n.each(this.nodes,function(e){return this.isVisible(e)?(t.addClass(e,"rh-hide"),e.hidden=!0):void 0},this)},e.prototype.accessible=function(t){return n.each(this.nodes,function(e){return e.hidden=t})},e.prototype.updateClass=function(e){var n,r,i,o,s,u,a,l,c,h;for(null==this.oldClasses&&(this.oldClasses=[]),c=this.nodes,r=0,s=c.length;s>r;r++){for(l=c[r],h=this.oldClasses,i=0,u=h.length;u>i;i++)n=h[i],t.removeClass(l,n);for(o=0,a=e.length;a>o;o++)n=e[o],n.length>0&&(t.addClass(l,n),this.oldClasses.push(n))}},e.prototype.updateNodes=function(t){var e,n,r,i,o,s,u,a;for(e=this.nodes[0],u=e.parentNode,n=0,i=t.length;i>n;n++)s=t[n],u.insertBefore(s,e);for(a=this.nodes,r=0,o=a.length;o>r;r++)s=a[r],u.removeChild(s);return this.nodes=t},e}(),r.NodeHolder=e}.call(this),function(){var t,e;e=window.rh,t=e._,e.controller=t.cache(t.isFunction)}.call(this),function(){var t,e,n,r,i,o,s,u,a=function(t,e){return function(){return t.apply(e,arguments)}};u=window.rh,n=u._,t=u.$,i={async:!0},o=u.formData=function(t){var e;return e=new window.FormData,n.each(t,function(t,n){return e.append(n,t)}),e},e=function(){function t(t,e){this.xhr=t,this.opts=e,this.onreadystatechange=a(this.onreadystatechange,this),null!=this.opts.success&&this.success(this.opts.success),null!=this.opts.error&&this.error(this.opts.error),this.xhr.onreadystatechange=this.onreadystatechange}return t.prototype.onreadystatechange=function(){var t,e,n;if(4===this.xhr.readyState)return n=this.xhr.responseText,e=this.xhr.status,t=function(t){return function(e){return t.xhr.getResponseHeader(e)}}(this),this.isSuccess(e)?this.successFn&&this.successFn(n,e,t,this.opts):this.errorFn&&this.errorFn(n,e,t,this.opts),this.finallyFn?this.finallyFn(n,e,t,this.opts):void 0},t.prototype.isSuccess=function(t){return t>=200&&300>t||304===t},t.prototype.success=function(t){return this.successFn=t,this},t.prototype.error=function(t){return this.errorFn=t,this},t.prototype["finally"]=function(t){return this.finallyFn=t,this},t}(),r=function(t){var n,r,i;return n=window.XMLHttpRequest||window.ActiveXObject("Microsoft.XMLHTTP"),i=new n,r=new e(i,t),{xhr:i,response:r}},s=u.http=function(t){var e,o,s;return t=n.extend({},i,t),e=r(t),s=e.xhr,o=e.response,s.open(t.method,t.url,t.async),t["Content-type"]&&s.setRequestHeader("Content-type",t["Content-type"]),s.send(t.data),o},s.get=function(t,e){return s(n.extend({url:t,method:"GET"},e))},s.post=function(t,e,r){return s(n.extend({url:t,method:"POST",data:e},r))},s.put=function(t,e,r){return s(n.extend({url:t,method:"PUT",data:e},r))},s.jsonp=function(e,r){var o,s;return r=n.extend({},i,r),s=t("script",0)||document.head.children[0],o=document.createElement("script"),o.async=r.async,o.src=e,s.parentNode.insertBefore(o,s)}}.call(this),function(){var t,e,n,r,i,o,s,u;u=window.rh,n=u._,t=u.$,r=u.consts,s=u.model,o=u.http,i=u.formData,e=function(){function t(){}return t.prototype.toString=function(){return"RoboHelpServer"},t.prototype.area=function(){return n.urlParam("area",n.extractParamString())
},t.prototype.type=function(){return n.urlParam("type",n.extractParamString())},t.prototype.project=function(){return n.urlParam("project",n.extractParamString())},t.prototype.logTopicView=function(t){return s.subscribe(r("EVT_PROJECT_LOADED"),function(e){return function(){var i,u,a,l;return i=s.get(r("KEY_PUBLISH_BASE_URL")),a=n.parentPath(n.filePath(n.getRootUrl())),l=n.isRelativeUrl(t)?a+t:t,i&&!n.isEmptyString(i)?(u=n.mapToEncodedString(n.extend(r("RHS_LOG_TOPIC_VIEW"),{area:e.area(),tpc:n.filePath(l)})),o.get(i+"?"+u)):void 0}}(this))},t.prototype.preSearch=function(){var t,e;return e=s.get(r("KEY_SEARCH_TERM")),e&&!n.isEmptyString(e)&&(t=n.mapToEncodedString(n.extend(r("RHS_DO_SEARCH"),{area:this.area(),type:this.type(),project:this.project(),quesn:e,oldquesn:"",quesnsyn:""})),s.publish(r("KEY_SEARCHED_TERM"),e),s.publish(r("EVT_SEARCH_IN_PROGRESS"),!0),s.publish(r("KEY_SEARCH_PROGRESS"),0)),{searchText:e,hashString:t}},t.prototype.postSearch=function(t,e){var i,o,u,a;return s.publish(r("EVT_SEARCH_IN_PROGRESS"),!1),s.publish(r("KEY_SEARCH_PROGRESS"),null),u=JSON.parse(e),u&&(a=u.topics,a&&a.length>0&&window.setResultsStringHTML(a.length,window._textToHtml_nonbsp(t)),o="?"+n.mapToEncodedString(n.extend({rhhlterm:t},{rhsyns:u.syns})),s.publish(r("KEY_SEARCH_RESULT_PARAMS"),o),s.publish(r("KEY_SEARCH_RESULTS"),a)),u&&(null!=(i=u.topics)?i.length:void 0)?void 0:window.displayMsg(window.gsNoTopics)},t.prototype.doSearch=function(){var t,e,i,u,a;return u=s.get(r("KEY_PUBLISH_MODE")),t=s.get(r("KEY_PUBLISH_BASE_URL")),t&&!n.isEmptyString(t)&&(i=this.preSearch(),a=i.searchText,e=i.hashString,o.get(t+"?"+e).error(function(){return u=!1}).success(function(t){return function(e){return t.postSearch(a,e),u=!0}}(this))),u},t}(),u.rhs=new e}.call(this),function(){var t;t=window.rh,t.registerDataAttr=function(e,n,r){var i;return null==r&&(r=t.Widget),i="data_"+e,r.prototype.dataAttrMethods["data-"+e]=i,r.prototype.dataAttrs.push(e),r.prototype[i]=function(t,e){return new n(this,t,e)}}}.call(this),function(){var t,e,n,r,i,o=function(t,e){return function(){return t.apply(e,arguments)}};i=window.rh,n=i._,t=i.$,r=i.consts,e=function(){function t(t,e,i){var s,u,a;this.widget=t,this.node=e,this.handleMouseMove=o(this.handleMouseMove,this),this.handleMouseDown=o(this.handleMouseDown,this),a=this.widget.resolveRawExprWithValue(i),s=a.callback,u=a.opts,this.opts=u,this.callback=function(){return s.call(this.widget)},null==u.maxx&&(u.maxx=1),null==u.minx&&(u.minx=0),null==u.maxy&&(u.maxy=1),null==u.miny&&(u.miny=0),this.resize=!1,n.initMouseMove(),n.addEventListener(this.node,"mousedown",this.handleMouseDown),this.widget.subscribe(r("EVT_MOUSEMOVE"),this.handleMouseMove)}return t.prototype.handleMouseDown=function(t){var e;if(1===t.which)return this.resize=t.target===this.node&&!t.defaultPrevented,this.resize?(e=this.callback(),this.resize=e!==!1&&null!==e):void 0},t.prototype.handleMouseMove=function(t){return t.defaultPrevented&&(this.resize=!1),this.resize?(t.defaultPrevented=!0,1===t.which?this.publish(t):this.resize=!1):void 0},t.prototype.getBaseWidth=function(){return this.opts.basex||document.body.offsetWidth},t.prototype.getBaseHeight=function(){return this.opts.basey||document.body.offsetHeight},t.prototype.publish=function(t){var e,n,i;return e=this.getBaseWidth(),i="rtl"===this.widget.get(r("KEY_DIR")),n=i?e-t.x:t.x,this.publishPos(e,this.opts.minx,this.opts.maxx,this.opts.x,n)?void 0:(e=this.getBaseHeight(),n=i?e-t.y:t.y,this.publishPos(e,this.opts.miny,this.opts.maxy,this.opts.y,n))},t.prototype.publishPos=function(t,e,n,r,i){var o;return null!=r&&null!=i&&(o=this.widget.get(r),o!==i)?(i>n*t?i=n*t:e*t>i&&(i=e*t),this.widget.publish(r,i+"px"),this.callback(),!0):void 0},t}(),i.registerDataAttr("resize",e)}.call(this),function(){var t,e,n,r;r=window.rh,n=r._,t=r.$,e=function(){function e(t,e,n){this.widget=t,this.node=e,this.widget.publish(n,this.extractRowColumnMatrix(this.node))}return e.prototype.extractRowColumnMatrix=function(e){var n,r;return n=[],r=[],this.widget.traverseNode(e,function(e){return"TD"===t.nodeName(e)?(r.push(t.innerHTML(e)),!1):("TR"===t.nodeName(e)&&(0!==r.length&&n.push(r),r=[]),!0)}),0!==r.length&&n.push(r),n},e}(),r.registerDataAttr("table",e)}.call(this),function(){var t,e,n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=window.rh,n=r._,t=r.$,e=function(e){function n(t){n.__super__.constructor.call(this,t),this.rowColMatrix=this.extractRowColumnMatrix(this.node)}return i(n,e),n.prototype.extractRowColumnMatrix=function(e){var n,r;return n=[],r=[],this.traverseNode(e,function(e){var i;return"TD"===t.nodeName(e)?(this.hasOnlyTable(e)?(i=this.extractRowColumnMatrix(e.children[0]),0!==i.length&&r.push({child:i})):r.push({html:t.innerHTML(e)}),!1):("TR"===t.nodeName(e)&&(0!==r.length&&n.push(r),r=[]),!0)}),0!==r.length&&n.push(r),n},n.prototype.hasOnlyTable=function(e){var n;return 1===(null!=(n=e.children)?n.length:void 0)&&"TABLE"===t.nodeName(e.children[0])},n}(r.Widget),window.rh.widgets.TableNestedData=e}.call(this),function(){var t,e,n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=window.rh,r=n._,t=n.$,e=function(t){function e(t){e.__super__.constructor.call(this,t),null==this.model&&(this.model=n.model)}return i(e,t),e}(n.Widget),window.rh.widgets.Global=e}.call(this),function(){var t,e,n,r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=window.rh,r=o._,t=o.$,i=o.consts,n=o.Widget,e=function(e){function a(t){this.renderChunck=s(this.renderChunck,this),this.reRender=s(this.reRender,this),a.__super__.constructor.call(this,t),null==this.key&&(this.key="_"+this),null==this.path&&(this.path=[]),null==this.children&&(this.children=[]),null==this.user_vars&&(this.user_vars={}),this.useTemplate=!0,this.renderedIndex=0,this.renderedCount=0}return u(a,e),a.prototype.dataIAttrs=["child"].concat(n.prototype.dataIAttrs),a.prototype.dataIAttrMethods=function(){return n.prototype.mapDataAttrMethods(a.prototype.dataIAttrs)}(),a.prototype.supportedArgs=["node","model","key","user_vars","filter","spliton","path","tplNode","tplChildNodes"],a.prototype.init=function(t){return this.initDone?void 0:(a.__super__.init.call(this,t),this.subscribeOnly(this.key,this.reRender,{partial:!1}),this.subscribeExpr(this.keyexpr,function(t){return null==t&&(t=[]),this.publish(this.key,t,{sync:!0})}),this.subscribeOnly(this.opts.loadmore,this.renderChunck))},a.prototype.parseOpts=function(t){return a.__super__.parseOpts.call(this,t),this.key&&(r.isValidModelConstKey(this.key)&&(this.key=i(this.key)),!r.isValidModelKey(this.key))?(this.keyexpr=this.key,this.key=null):void 0},a.prototype.parsePipedArg=function(){var t,e;return e=this.opts.pipedArgs,(null!=e?e.shift:void 0)&&((t=e.shift())&&(this.filter=t),(t=e.shift())&&(this.spliton=t)),r.isString(this.filter)&&(this.filter=this.listItemExpr(this.filter)),r.isString(this.spliton)?this.spliton=this.listItemExpr(this.spliton):void 0},a.prototype.notifyLoading=function(t){return this.opts.loading?this.publish(this.opts.loading,t):void 0},a.prototype.listItemExpr=function(t){return this._evalFunction("item, index",t)},a.prototype.isWidgetNode=function(e){return a.__super__.isWidgetNode.apply(this,arguments)||t.dataset(e,"child")},a.prototype.reRender=function(t){return this.data=null,this.renderedIndex=0,this.renderedCount=0,a.__super__.reRender.call(this,t)},a.prototype.preRender=function(){var t,e;return e=this.node,null==this.tplChildNodes&&(this.tplChildNodes=function(){var e,n,r,i;for(r=this.tplNode.childNodes,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t);return i}.call(this)),this.node=this.tplNode.cloneNode(!1),e},a.prototype.alterNodeContent=function(){return null==this.data&&(this.data=this.get(this.key)||[]),this.renderChunck()},a.prototype.renderChunck=function(){var t,e,n,r,i;for(this.notifyLoading(!1),t=n=r=this.renderedIndex,i=this.data.length-1;i>=n;t=n+=1)if(e=this.data[t],!this.filter||this.filter(e,t)){if(this.spliton&&t!==this.renderedIndex&&this.spliton(e,t)){this.notifyLoading(!0);break}this.renderOneItem(e,t)}return this.renderedIndex=t,0===this.renderedCount?this.hide():this.isVisible()||this.show(),this.opts.loaded&&t===this.data.length?this.publish(this.opts.loaded,!0):void 0},a.prototype.renderOneItem=function(e,n){var r,i,s,u,a,l,c;for(this.renderedIndex=n,r=this.opts.generateindex||o._debug,c=this.tplChildNodes,s=0,u=c.length;u>s;s++)l=c[s],(a=this.resolve_rif(l,e,n))&&(("undefined"==typeof i||null===i)&&(this.renderedCount++,i=!0),r&&t.dataset(a,"listindex",this.renderedCount-1),a.hasChildNodes()&&this.renderChildList(a,e,n),this.node.appendChild(a),this.resolveItemIndex(a,e,n))},a.prototype.convertToListContainer=function(){},a.prototype._pathId=function(t){var e;return e="_",e+=this.path.join("_"),null!=t&&(this.path.length>0&&(e+="_"),e+=t),e},a.prototype._pathKey=function(t){var e;return null==t&&(t=""),t=t.toString(),e=this.path.join("."),t.length>0&&e.length>0?"."+e+"."+t:t.length>0?"."+t:"."+e},a.prototype.resolveRepeatVar=function(t,e,n,r,i){return r[t]=r[t]||function(){switch(t){case"@itemkey":return this.key+"."+n;case"@key":return this.key;case"@id":return this._pathId(n);case"@pid":return this._pathId();case"@path":return this._pathKey(n);case"@ppath":return this._pathKey();case"@level":return this.path.length;default:return a.__super__.resolveRepeatVar.call(this,t,e,n,r,i)}}.call(this)},a.prototype.data_child=function(e,n,i,o){return r.isValidModelKey(n)||t.dataset(e,"child",this.subscribeIDataExpr(e,n,i,o)),!1},a.prototype.renderChildList=function(e,n,r){return t.eachDataNode(e,"child",function(i,o){var s,u,l,c;return this.convertToListContainer(e),this.resolveItemIndex(i,n,r),o=t.dataset(i,"child"),"undefined"===o||""===o?i.parentNode.removeChild(i):(s=o.split("|"),c=s[1],l=s[0],u=new a({node:i,model:this.model,key:l,user_vars:this.user_vars,path:this.path.concat([this.renderedCount-1]),filter:c,tplNode:i.cloneNode(!1),tplChildNodes:this.tplChildNodes}),u.init(this),this.children.push(u))},this)},a}(n),window.rh.widgets.List=e}.call(this),function(){var t,e,n,r,i,o,s,u,a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;for(s=window.rh,u=s._,t=s.$,n=function(e){var n;return n=function(n){function r(n){r.__super__.constructor.call(this,n),null==this.model&&(this.model=s.model),t.dataset(this.node,e,n.rawArg)}return a(r,n),r.prototype.toString=function(){return e+"_"+this._count},r.prototype.dataAttrMethods=function(){var t;return t={},t["data-"+e]="data_"+e,t}(),r.prototype.init=function(t){return this.initDone?void 0:(this.initDone=!0,this.initParent(t),this.initUI(),this.resolveDataAttrs(this.node))},r}(s.Widget)},o=s.Widget.prototype.dataAttrs,r=0,i=o.length;i>r;r++)e=o[r],window.rh.widgets[e]=n(e)}.call(this);